<?php

use App\Http\Controllers\HomeController;
use Illuminate\Support\Facades\Route;
use App\Models\Service;
use App\Models\Blog;

Route::redirect('/kepenk-tamiri.html', '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/kapenk-motorlar.html', '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/hizmetlerimiz.php', '/', 301);
Route::redirect('/iletisim.php', '/iletisim', 301);
Route::redirect('/hakkimizda.php', '/sayfa/hakkimizda', 301);
Route::redirect('/news.php', '/makaleler', 301);
Route::redirect('/hakkimizda.php', '/sayfa/hakkimizda', 301);

Route::redirect('/beykoz-kepenk-tamiri.htm', '/hizmetbolgesi/beykoz-otomatik-kepenk-tamiri', 301);
Route::redirect('/acibadem-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/goztepe-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/kozyatagi-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/eminonu-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/samandira-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/sile-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/sisli-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/fatih-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/atasehir-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/buyukcekmece-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/bahcelievler-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/taksim-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/eyup-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/maltepe-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/uskudar-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/ikitelli-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/esenler-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/sancaktepe-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/zeytinburnu-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/idealtepe-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/beylikduzu-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/avcilar-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/umraniye-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/cekmekoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/cengelkoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/adalar-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/sultangazi-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/beyoglu-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/silivri-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/bakirkoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/suadiye-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/arnavutkoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/gungoren-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/kurtkoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/etiler-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/ortakoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/mimaroba-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/sariyer-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/kagithane-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/kadikoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/gunesli-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/yesilkoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/atakoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/halkali-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/esenyurt-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/kucukcekmece-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/merter-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/sefakoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/bostanci-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/maslak-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/basaksehir-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/sirinevler-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/tuzla-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/icerenkoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/kartal-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/besiktas-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/sultanbeyli-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/kavacik-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/erenkoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/catalca-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/bayrampasa-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/bagcilar-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/kucukyali-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/nisantasi-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);
Route::redirect('/mecidiyekoy-kepenk-tamiri.htm',  '/hizmet/otomatik-kepenk-tamiri', 301);

Route::get('/', [HomeController::class, 'index'])->name('home');
Route::get('/iletisim', [HomeController::class, 'contact'])->name('contactus');
Route::get('/kurumsal', [HomeController::class, 'corporate'])->name('corporate');
Route::get('/sayfa/{url}', [HomeController::class, 'corporatedetail'])->name('corporatedetail');
Route::get('/hizmetlerimiz', [HomeController::class, 'service'])->name('service');
Route::get('/hizmet/{url}', [HomeController::class, 'servicedetail'])->name('servicedetail');
Route::get('/hizmetbolgesi/{url}', [HomeController::class, 'servicearea'])->name('servicearea');
Route::get('/makaleler', [HomeController::class, 'blog'])->name('blog');
Route::get('/makale/{url}', [HomeController::class, 'blogdetail'])->name('blogdetail');
Route::get('/sss', [HomeController::class, 'sss'])->name('sss');
Route::get('/video-galeri', [HomeController::class, 'video'])->name('video');
Route::get('/referanslarimiz', [HomeController::class, 'reference'])->name('reference');
Route::get('/sss', [HomeController::class, 'faq'])->name('faq');
Route::get('/urunlerimiz', [HomeController::class, 'product'])->name('product');
Route::post('/form', [HomeController::class, 'form'])->name('form');
Route::get('/ilceler', function(){
    $istanbul = ["İstanbul","Arnavutköy", "Avcılar","Ataşehir", "Bağcılar", "Bahçelievler", "Bakırköy", "Başakşehir", "Bayrampaşa", 'Beşiktaş','Beylikdüzü', "Beykoz", "Beyoğlu", "Büyükçekmece","Çekmeköy", "Çatalca", "Eminönü", "Esenler", "Esenyurt","Eyüp", "Fatih", "Gaziosmanpaşa", "Güngören", "Kadıköy", "Kağıthane", "Kartal", "Küçükçekmece", "Maltepe", "Pendik", "Sarıyer", "Silivri", "Sancaktepe","Sultangazi","Şile", "Şişli", "Sultanbeyli", "Tuzla", "Ümraniye", "Üsküdar", "Zeytinburnu"];
    $a = Blog::where('service', 1)->get();
    
    if (count($istanbul) !== count($a)) {
        throw new Exception("İlçe sayısı ile blog sayısı eşleşmiyor");
    }
    
    foreach ($a as $index => $row) {
        $Edit = Blog::find($row->id);
        if ($Edit) {
            $item = $istanbul[$index];
            $desc = "<h3>{$item} Kepenk Tamir Servisi</h3>
            
            <p>{$item} kepenk tamiri hizmetimiz, uzman ustalar ve kaliteli malzemeler ile otomatik kepenk servisi sağlamaktadır. 7/24 güvenilir ve garantili hizmet sunmaktayız.</p>
            
            <p>1989’dan bu yana, profesyonel ustalarımız ve kaliteli malzemeler ile kepenk tamiri hizmeti vermekteyiz. Otomatik kepenkler günlük hayatın birçok alanında sıkça kullanılmakta ve bu nedenle kepenk bakım, onarım ve servis gereksinimleri ortaya çıkmaktadır.</p>
            
            <h4>Karşılaşabileceğiniz Otomatik Kepenk Arızaları</h4>
            
            <p>Otomatik kepenkler zamanla çeşitli arızalar gösterebilir. Bu arızalardan bazıları şunlardır:</p>
            
            <ul>
                <li><strong>Motor Arızası</strong>: Kepenk motorları zamanla aşınabilir veya arızalanabilir.</li>
                <li><strong>Alıcı Kartı Bozulması</strong>: Alıcı kartlarının bozulması kepenklerin çalışmasını engelleyebilir.</li>
                <li><strong>Kepenk Aksesuarlarında Kırılmalar</strong>: Kepenk aksesuarları kırılabilir veya hasar görebilir.</li>
            </ul>
            
            <p>Profesyonel ekiplerimiz otomatik kepenklerde oluşan arızayı yerinde tespit ettikten sonra arızaya yönelik onarım işlemini hızlı, garantili ve en uygun fiyatlarla sizlere sunmaktadır.</p>
            
            <h3>Sık Karşılaşılan Otomatik Kepenk Arızaları</h3>
            
            <p>Kepenk sistemlerinde birçok farklı nedenden dolayı arıza oluşabilmektedir. Bu arızaların nedenlerini sıralayacak olursak:</p>
            
            <ul>
                <li><strong>Yetersiz ve Düzensiz Bakım</strong>: Kepenk sistemlerinin düzenli bakımı yapılmadığında arızalar oluşabilir.</li>
                <li><strong>Kullanıcı Hatalarından Kaynaklı Bozulmalar</strong>: Yanlış kullanım nedeniyle kepenklerde bozulmalar meydana gelebilir.</li>
                <li><strong>Elektrik Hatlarında Oluşabilecek Ters Akım</strong>: Elektrik hatlarında oluşabilecek ters akım kepenk sistemlerini etkileyebilir.</li>
                <li><strong>Elektronik Cihazlarda Oluşan Kısa Devreler</strong>: Elektronik parçalarda oluşan kısa devreler arızaya yol açabilir.</li>
                <li><strong>Mekanizmada Bozulmalar veya Kırılmalar</strong>: Kepenk mekanizmalarında bozulmalar veya kırılmalar meydana gelebilir.</li>
            </ul>
            
            <h3>{$item} Otomatik Kepenk Tamiri</h3>
            
            <p>Kepenk sisteminiz çalışma esnasında fazla ses çıkarıyor, yamuk çalışıyor veya hiç çalışmıyorsa servisimiz ile iletişime geçmeniz gerekebilir. Bu tip problemler ile karşılaşmanız durumunda {$item} kepenk firması olarak bizlere ulaşabilirsiniz.</p>
            
            <p><strong>İstanbul Otomatik Kepenk Sistemleri</strong>, 1989’dan bu yana kepenk bakım, onarım ve montaj işlemleri gibi birçok servis hizmetini müşterilerine garantili ve hızlı şekilde gerçekleştirmektedir. Garaj girişi veya dükkân kapınızda bulunan otomatik kepenklerin açılmaması durumunda firmamızdan acil kepenk servisi talep edebilirsiniz.</p>
            
            <h3>Hizmetlerimiz</h3>
            
            <p>{$item} kepenk tamircisi olarak tüm İstanbul çevresine hizmet vermekteyiz. En yakın servis ekiplerini sizlere hızlıca ulaştırarak uygun fiyatlarla kepenk bakım ve onarım hizmeti sağlamaktayız. Bizlere iletişim numaralarımızdan, canlı destek hattından veya sosyal medya hesaplarımızdan ulaşabilir ve 7/24 teknik destek talep edebilirsiniz.</p>
            
            <h4>Neden Bizi Seçmelisiniz?</h4>
            
            <ul>
                <li><strong>Uzman Kadro</strong>: Profesyonel ve deneyimli ustalar ile hizmet veriyoruz.</li>
                <li><strong>Kaliteli Malzemeler</strong>: Kepenk tamirinde en kaliteli malzemeleri kullanıyoruz.</li>
                <li><strong>Hızlı ve Güvenilir Hizmet</strong>: Arızalarınızı hızlıca tespit edip, en kısa sürede çözüm sunuyoruz.</li>
                <li><strong>Uygun Fiyatlar</strong>: Kaliteli hizmeti en uygun fiyatlarla sunuyoruz.</li>
                <li><strong>7/24 Teknik Destek</strong>: Her an ulaşabileceğiniz teknik destek hizmeti sağlıyoruz.</li>
            </ul>
            
            <p>{$item} kepenk tamiri ve bakımı konusunda güvenilir ve kaliteli hizmet almak için bizimle iletişime geçebilirsiniz.</p>
            ";
            $Edit->desc = $desc;
            $Edit->save();
        }
    }
    
});  

Route::group(["prefix"=>"go", 'middleware' => ['auth','web', 'admin']],function() {
    Route::get('/', 'DashboardController@index')->name('go');
    Route::get('/dashboard', 'DashboardController@index')->name('dashboard');
    Route::get('/formlar', 'DashboardController@formlar')->name('formlar');
    Route::delete('/formDelete/{id}', 'DashboardController@formDelete')->name('formDelete');
    Route::auto('/page', PageController::class);
    Route::auto('/page-categories', PageCategoryController::class);
    Route::auto('/blog', BlogController::class);
    Route::auto('/blog-categories', BlogCategoryController::class);
    Route::auto('/faq', FaqController::class);
    Route::auto('/faq-categories', FaqCategoryController::class);
    Route::auto('/gallery', GalleryController::class);
    Route::auto('/service', ServiceController::class);
    Route::auto('/service-categories', ServiceCategoryController::class);
    Route::auto('/gallery-categories', GalleryCategoryController::class);
    Route::auto('/slider', SliderController::class);
    Route::auto('/video', VideoController::class);
    Route::auto('/video-categories', VideoCategoryController::class);
    Route::auto('/settings', SettingController::class);
    Route::auto('/contact', ContactController::class);
    Route::auto('/features', FeaturesController::class);
    Route::auto('/reference', ReferenceController::class);
    Route::auto('/price', PriceController::class);

});

require __DIR__.'/auth.php';
